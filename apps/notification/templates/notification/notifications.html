{% extends 'core/base.html' %}

{% load humanize %}

{% block content %}
    <div class="flex flex-col w-full border-solid border-r-2 border-gray-100 dark:border-gray-700">
        <div class="sticky p-3 bg-white dark:bg-slate-900  top-0 w-full h-fit opacity-95 text-2xl border-solid border-b-2 border-gray-100 dark:border-gray-700">
            <a href="{% url 'notifications' %}">
                <span class="opacity-100">Notificações</span>
            </a>
        </div>
        <div class="flex flex-col">
            {% for notification in notifications %}
                <div class="flex flex-row h-fit w-full p-4 pt-3 pl-3 border-solid border-b-2 hover:bg-gray-100 dark:hover:bg-gray-700 border-gray-100 dark:border-gray-700" >
                    <div class="flex mr-2">  
                    {% if notification.created_by.twikkerprofile.avatar %}
                        <img class="rounded-full h-12 w-12" src="{{ notification.created_by.twikkerprofile.avatar.url }}">
                    {% endif %}
                    </div>   
                    <div>
                        {% if notification.notification_type == 'message' %}
                            <a href="{% url 'notifications' %}?goto=conversation&notification={{ notification.id }}">
                                <strong>{{ notification.created_by.username }}</strong> sent you a message
                                <small>{{ notification.created_at|naturaltime }}</small>
                            </a>
                        {% elif notification.notification_type == 'follower' %}
                            <a href="{% url 'notifications' %}?goto=twikkerprofile&notification={{ notification.id }}">
                                <strong>{{ notification.created_by.username }}</strong> started following you
                                <small>{{ notification.created_at|naturaltime }}</small>
                            </a>
                        {% elif notification.notification_type == 'like' %}
                            <a href="{% url 'notifications' %}?goto=twikkerprofile&notification={{ notification.id }}">
                                <strong>{{ notification.created_by.username }}</strong> liked a tweek you made
                                <small>{{ notification.created_at|naturaltime }}</small>
                            </a>
                        {% elif notification.notification_type == 'mention' %}
                            <a href="{% url 'notifications' %}?goto=twikkerprofile&notification={{ notification.id }}">
                                <strong>{{ notification.created_by.username }}</strong> mentioned you in a tweek
                                <small>{{ notification.created_at|naturaltime }}</small>
                            </a>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>  
    </div>
{% endblock %}