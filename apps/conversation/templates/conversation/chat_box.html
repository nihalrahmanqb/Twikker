{% load humanize %}
<div id="conversationapp" class="flex flex-col h-full">
    <div id="chatcontainer" class="flex flex-col h-full">
        <div v-for="message in messages" :class="message.tweeker_name == '{{ request.user.username }}' ? 'justify-end flex w-full' : 'flex w-full'  ">
            <article class="flex h-fit w-fit max-w-md p-2 pt-3 pl-3 border-solid border-2 border-gray-100 dark:border-gray-700 ">
                <figure class="shrink-0">
                    <img class="rounded-full h-12 w-12" :src="message.avatar_url">
                </figure>
                <div class="flex-col">
                    <div>
                        <strong>
                            <a href="">[[ message.tweeker_name ]]</a>
                        </strong>
                        <small>[[ message.formatted_time ]]</small>
                    </div>
                    <div class="break-all">
                        <span>[[ message.content ]]</span>
                    </div>
                </div>
            </article>
        </div>
    </div>
    <div class="sticky bg-white dark:bg-slate-900  bottom-0 w-full border">
        <form v-on:submit.prevent="submitMessage()" class="w-full p-2">
            <div class="flex">
                <div class="w-full">
                    <input type="text" class="w-full" v-model="content" placeholder="Your message..."></input>
                </div>
                <div class="bg-green-200 rounded-full px-2 mx-1">
                    <button>Send</button>
                </div>
            </div>
        </form>
    </div>
</div>